<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šåŠŸèƒ½åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* é ‚éƒ¨å°èˆª */
        .main-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            padding: 25px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .main-header.collapsed {
            padding: 12px 0;
        }

        .main-header.collapsed .nav-buttons {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-20px);
        }

        .main-header.collapsed .main-title {
            font-size: 1.8em;
            margin-bottom: 0;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }

        .main-title {
            font-size: 3em;
            background: linear-gradient(45deg, #667eea, #764ba2, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            animation: titleGlow 3s ease-in-out infinite;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .collapse-toggle {
            font-size: 0.6em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            opacity: 0.7;
        }

        .collapse-toggle:hover {
            opacity: 1;
            transform: scale(1.2);
        }

        .main-header.collapsed .collapse-toggle {
            transform: rotate(180deg);
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.1); }
        }

        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            max-width: 1200px;
            margin: 0 auto;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 200px;
            opacity: 1;
            overflow: hidden;
            padding: 0 10px;
        }

        .nav-btn {
            padding: 12px 16px;
            border: none;
            border-radius: 10px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 4px;
            flex: 0 1 auto;
            min-width: 120px;
            max-width: 150px;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s ease;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn.home {
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            color: white;
        }

        .nav-btn.merger {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .nav-btn.crop {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
        }

        .nav-btn.video {
            background: linear-gradient(135deg, #20bf6b 0%, #26d0ce 100%);
            color: white;
        }

        .nav-btn.animation {
            background: linear-gradient(135deg, #a8e6cf 0%, #88d8c0 100%);
            color: white;
        }

        .nav-btn.tutorial {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }

        .nav-btn.grid-tool {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
        }

        .nav-btn.advanced-crop {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .nav-btn.active {
            transform: translateY(-2px) scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .nav-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 2px 2px 0 0;
        }

        .nav-btn-icon {
            font-size: 1.4em;
            margin-bottom: 2px;
        }

        .nav-btn-title {
            font-size: 0.9em;
            font-weight: 700;
            line-height: 1.1;
        }

        .nav-btn-desc {
            font-size: 0.7em;
            opacity: 0.85;
            margin-top: 0;
            line-height: 1;
        }

        /* å·¥å…·å®¹å™¨ */
        .tools-container {
            min-height: calc(100vh - 180px);
        }

        .tool-page {
            animation: fadeIn 0.6s ease-in-out;
        }

        .tool-page.hidden {
            display: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æ­¡è¿é é¢ */
        .welcome-page {
            text-align: center;
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
            color: white;
        }

        .welcome-title {
            font-size: 3.5em;
            margin-bottom: 25px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
            animation: welcomeFloat 6s ease-in-out infinite;
        }

        @keyframes welcomeFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .welcome-subtitle {
            font-size: 1.4em;
            margin-bottom: 50px;
            opacity: 0.95;
            line-height: 1.6;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 35px;
            transition: all 0.4s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s ease;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.25);
        }

        .feature-icon {
            font-size: 3.5em;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .feature-title {
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .feature-desc {
            opacity: 0.92;
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }

        /* iframe å®¹å™¨ */
        .iframe-container {
            width: 100%;
            height: calc(100vh - 180px);
            position: relative;
            border-radius: 20px 20px 0 0;
            overflow: hidden;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
        }

        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 0;
        }

        /* è¼‰å…¥å‹•ç•« */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            color: white;
            font-size: 1.3em;
            flex-direction: column;
            gap: 20px;
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* å‹•ç•«æ©Ÿä»‹ç´¹æ¨£å¼ */
        .animation-intro {
            max-width: 1000px;
            margin: 0 auto;
            padding: 50px 20px;
            color: white;
        }

        .intro-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .intro-header h1 {
            font-size: 3.2em;
            margin-bottom: 25px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        }

        .intro-header p {
            font-size: 1.4em;
            opacity: 0.95;
            line-height: 1.7;
        }

        .intro-section {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 35px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .intro-section h2 {
            font-size: 2.2em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .intro-section h2 span {
            font-size: 1.2em;
        }

        .work-principles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .principle-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .principle-item h3 {
            margin-bottom: 12px;
            font-size: 1.3em;
        }

        .applications {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }

        .application-item {
            text-align: center;
            padding: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            transition: transform 0.3s ease;
        }

        .application-item:hover {
            transform: translateY(-5px);
        }

        .application-item .icon {
            font-size: 3.2em;
            margin-bottom: 15px;
        }

        .application-item h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .application-item p {
            font-size: 0.95em;
            opacity: 0.85;
        }

        .action-section {
            text-align: center;
            margin-top: 50px;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 35px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .action-card h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .action-card p {
            opacity: 0.95;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .action-btn {
            padding: 18px 40px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .action-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);
        }

        .back-btn {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* çµ±è¨ˆè³‡è¨Š */
        .stats-section {
            margin-top: 60px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            text-align: center;
        }

        .stat-item {
            padding: 20px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
            color: #fdcb6e;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.2em;
                flex-direction: column;
                gap: 10px;
            }

            .main-header.collapsed .main-title {
                font-size: 1.5em;
            }

            .nav-buttons {
                gap: 6px;
                max-height: 140px;
                padding: 0 5px;
            }

            .nav-btn {
                padding: 10px 12px;
                min-height: 50px;
                font-size: 0.85em;
                min-width: 100px;
                max-width: 120px;
            }

            .nav-btn-icon {
                font-size: 1.2em;
                margin-bottom: 1px;
            }

            .nav-btn-title {
                font-size: 0.8em;
            }

            .nav-btn-desc {
                font-size: 0.65em;
            }

            .welcome-title {
                font-size: 2.5em;
            }

            .welcome-subtitle {
                font-size: 1.2em;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .intro-header h1 {
                font-size: 2.5em;
            }

            .intro-header p {
                font-size: 1.2em;
            }

            .intro-section {
                padding: 25px;
            }
        }

        @media (max-width: 480px) {
            .welcome-page {
                padding: 40px 15px;
            }

            .feature-card {
                padding: 25px;
            }

            .nav-buttons {
                gap: 4px;
                max-height: 120px;
                padding: 0 3px;
            }

            .nav-btn {
                padding: 8px 10px;
                min-height: 45px;
                font-size: 0.8em;
                min-width: 85px;
                max-width: 100px;
            }

            .nav-btn-icon {
                font-size: 1.1em;
                margin-bottom: 1px;
            }

            .nav-btn-title {
                font-size: 0.75em;
                line-height: 1;
            }

            .nav-btn-desc {
                font-size: 0.6em;
            }

            .main-title {
                font-size: 1.8em;
            }

            .main-header.collapsed .main-title {
                font-size: 1.3em;
            }
        }

        @media (max-width: 360px) {
            .nav-buttons {
                gap: 3px;
                max-height: 100px;
                padding: 0 2px;
            }

            .nav-btn {
                padding: 6px 8px;
                min-height: 40px;
                font-size: 0.75em;
                min-width: 75px;
                max-width: 85px;
            }

            .nav-btn-icon {
                font-size: 1em;
                margin-bottom: 0;
            }

            .nav-btn-title {
                font-size: 0.7em;
                line-height: 0.9;
            }

            .nav-btn-desc {
                display: none; /* æ¥µå°è¢å¹•éš±è—æè¿° */
            }

            .main-title {
                font-size: 1.6em;
            }

            .main-header.collapsed .main-title {
                font-size: 1.2em;
            }
        }

        @media (max-width: 320px) {
            .nav-buttons {
                gap: 2px;
                max-height: 90px;
            }

            .nav-btn {
                padding: 5px 6px;
                min-height: 35px;
                font-size: 0.7em;
                min-width: 65px;
                max-width: 75px;
                gap: 2px;
            }

            .nav-btn-icon {
                font-size: 0.9em;
            }

            .nav-btn-title {
                font-size: 0.65em;
            }

            .main-title {
                font-size: 1.4em;
            }

            .main-header.collapsed .main-title {
                font-size: 1.1em;
            }
        }

        /* æ–°å¢å·¥å…·æç¤º */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: rgba(0,0,0,0.9);
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 8px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* æ¼‚æµ®æ¨™ç±¤ */
        .floating-brand {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            user-select: none;
            animation: floatPulse 3s ease-in-out infinite;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .floating-brand:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
            background: linear-gradient(135deg, #5a6fd8 0%, #6a5acd 100%);
        }

        .floating-brand:active {
            transform: translateY(-2px) scale(1.02);
        }

        .floating-brand-icon {
            font-size: 16px;
            animation: iconRotate 4s linear infinite;
        }

        @keyframes floatPulse {
            0%, 100% { 
                transform: translateY(0px);
                box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            }
            50% { 
                transform: translateY(-3px);
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            }
        }

        @keyframes iconRotate {
            0%, 90% { transform: rotate(0deg); }
            95% { transform: rotate(15deg); }
            100% { transform: rotate(0deg); }
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´æ¼‚æµ®æ¨™ç±¤ */
        @media (max-width: 768px) {
            .floating-brand {
                bottom: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 13px;
            }
        }

        @media (max-width: 480px) {
            .floating-brand {
                bottom: 12px;
                right: 12px;
                padding: 8px 14px;
                font-size: 12px;
            }
            
            .floating-brand-icon {
                font-size: 14px;
            }
        }

        /* ç¢ºä¿æ¼‚æµ®æ¨™ç±¤ä¸æœƒè¢«å…¶ä»–å…ƒç´ é®æ“‹ */
        .floating-brand {
            position: fixed !important;
            z-index: 99999 !important;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- ä¸»è¦å°èˆªé ­éƒ¨ -->
        <header class="main-header" id="mainHeader">
            <div class="header-content">
                <h1 class="main-title" onclick="toggleNavigation()">
                    ğŸ¨ å¤šåŠŸèƒ½åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·
                    <span class="collapse-toggle" id="collapseToggle">â–¼</span>
                </h1>
                <nav class="nav-buttons">
                    <div class="tooltip">
                        <button class="nav-btn home active" onclick="showTool('home')">
                            <div class="nav-btn-icon">ğŸ </div>
                            <div class="nav-btn-title">é¦–é </div>
                            <div class="nav-btn-desc">å·¥å…·ç¸½è¦½</div>
                        </button>
                        <span class="tooltiptext">è¿”å›ä¸»é é¢ï¼ŒæŸ¥çœ‹æ‰€æœ‰å¯ç”¨å·¥å…·</span>
                    </div>
                    
                    <div class="tooltip">
                        <button class="nav-btn merger" onclick="showTool('merger')">
                            <div class="nav-btn-icon">ğŸ“¸</div>
                            <div class="nav-btn-title">æ‹¼æ¥å·¥å…·</div>
                            <div class="nav-btn-desc">A4æ’ç‰ˆ</div>
                        </button>
                        <span class="tooltiptext">å°‡6å¼µåœ–ç‰‡å®Œç¾æ‹¼æ¥åˆ°A4ç´™ä¸Š</span>
                    </div>
                    
                    <div class="tooltip">
                        <button class="nav-btn crop" onclick="showTool('crop')">
                            <div class="nav-btn-icon">âœ‚ï¸</div>
                            <div class="nav-btn-title">ä¿®åœ–å·¥å…·</div>
                            <div class="nav-btn-desc">åŸºç¤è£åˆ‡</div>
                        </button>
                        <span class="tooltiptext">åœ–ç‰‡è£åˆ‡ã€åˆ†å‰²ã€å‹•ç•«è£½ä½œ</span>
                    </div>
                    
                    <div class="tooltip">
                        <button class="nav-btn advanced-crop" onclick="showTool('advanced-crop')">
                            <div class="nav-btn-icon">ğŸ”§</div>
                            <div class="nav-btn-title">é€²éšä¿®åœ–</div>
                            <div class="nav-btn-desc">å°ˆæ¥­è™•ç†</div>
                        </button>
                        <span class="tooltiptext">å°ˆæ¥­ç´šåœ–ç‰‡è™•ç†ï¼Œæ”¯æ´å¤–æ¡†åˆ‡é™¤ç­‰é€²éšåŠŸèƒ½</span>
                    </div>
                    
                    <div class="tooltip">
                        <button class="nav-btn video" onclick="showTool('video')">
                            <div class="nav-btn-icon">ğŸ¬</div>
                            <div class="nav-btn-title">å½±ç‰‡å¿«ç…§</div>
                            <div class="nav-btn-desc">å½±ç‰‡è½‰åœ–</div>
                        </button>
                        <span class="tooltiptext">å¾å½±ç‰‡ä¸­è‡ªå‹•æˆªå–é—œéµç•«é¢</span>
                    </div>

                    <div class="tooltip">
                        <button class="nav-btn grid-tool" onclick="showTool('grid-tool')">
                            <div class="nav-btn-icon">ğŸ”²</div>
                            <div class="nav-btn-title">æ–¹æ¡†é™£åˆ—</div>
                            <div class="nav-btn-desc">æ‰¹é‡æ“·å–</div>
                        </button>
                        <span class="tooltiptext">æ–¹æ¡†é™£åˆ—æ“·å–å·¥å…·ï¼Œæ‰¹é‡è™•ç†åœ–ç‰‡å€åŸŸ</span>
                    </div>

                    <div class="tooltip">
                        <button class="nav-btn animation" onclick="showTool('animation')">
                            <div class="nav-btn-icon">ğŸ­</div>
                            <div class="nav-btn-title">å‹•ç•«æ©Ÿ</div>
                            <div class="nav-btn-desc">å‹•ç•«ä»‹ç´¹</div>
                        </button>
                        <span class="tooltiptext">äº†è§£å‹•ç•«æ©ŸåŸç†èˆ‡æ‡‰ç”¨</span>
                    </div>

                    <div class="tooltip">
                        <button class="nav-btn tutorial" onclick="showTool('tutorial')">
                            <div class="nav-btn-icon">ğŸ“š</div>
                            <div class="nav-btn-title">äº’å‹•æ•™å­¸</div>
                            <div class="nav-btn-desc">å­¸ç¿’èª²ç¨‹</div>
                        </button>
                        <span class="tooltiptext">å‰å¾€ä½•è€å¸«æ•™å­¸ç¶²çš„äº’å‹•èª²ç¨‹</span>
                    </div>
                </nav>
            </div>
        </header>

        <!-- å·¥å…·å®¹å™¨ -->
        <div class="tools-container">
            <!-- æ­¡è¿é é¢ -->
            <div id="home" class="tool-page">
                <div class="welcome-page">
                    <h2 class="welcome-title">æ­¡è¿ä½¿ç”¨åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·</h2>
                    <p class="welcome-subtitle">å°ˆæ¥­çš„ç·šä¸Šåª’é«”è™•ç†å¹³å°ï¼Œæä¾›å¤šç¨®å¯¦ç”¨åŠŸèƒ½ï¼Œå¾åŸºç¤è£åˆ‡åˆ°é€²éšå‹•ç•«è£½ä½œ</p>
                    
                    <div class="features-grid">
                        <div class="feature-card" onclick="showTool('merger')">
                            <div class="feature-icon">ğŸ“¸</div>
                            <h3 class="feature-title">åœ–ç‰‡æ‹¼æ¥å·¥å…·</h3>
                            <p class="feature-desc">å°‡6å¼µåœ–ç‰‡å®Œç¾æ’åˆ—åœ¨A4ç´™ä¸Šï¼Œæ”¯æ´å–®é æ©«å‘å’Œé›™é ç¸±å‘æ’ç‰ˆï¼Œå°ˆç‚ºè­‰ä»¶ç…§è™•ç†è¨­è¨ˆ</p>
                        </div>
                        
                        <div class="feature-card" onclick="showTool('crop')">
                            <div class="feature-icon">âœ‚ï¸</div>
                            <h3 class="feature-title">åŸºç¤ä¿®åœ–å·¥å…·</h3>
                            <p class="feature-desc">åœ–ç‰‡è£åˆ‡ã€æ‰¹é‡è™•ç†ã€å‹•ç•«è»Šè£½ä½œç­‰å¤šç¨®æ¨¡å¼ï¼Œæ”¯æ´æ‰‹å‹•é¸æ“‡å’Œæ™ºèƒ½åˆ†å‰²</p>
                        </div>

                        <div class="feature-card" onclick="showTool('advanced-crop')">
                            <div class="feature-icon">ğŸ”§</div>
                            <h3 class="feature-title">é€²éšä¿®åœ–å·¥å…·</h3>
                            <p class="feature-desc">å°ˆæ¥­ç´šåœ–ç‰‡è™•ç†ï¼Œæ”¯æ´å¤–æ¡†åˆ‡é™¤ã€æ™ºèƒ½å£“ç¸®ã€éµç›¤å¿«æ·éµç­‰é€²éšåŠŸèƒ½</p>
                        </div>
                        
                        <div class="feature-card" onclick="showTool('video')">
                            <div class="feature-icon">ğŸ¬</div>
                            <h3 class="feature-title">å½±ç‰‡å¿«ç…§å·¥å…·</h3>
                            <p class="feature-desc">å¾å½±ç‰‡ä¸­è‡ªå‹•æˆªå–é—œéµç•«é¢ï¼Œæ”¯æ´å¤šç¨®æ ¼å¼å’Œå“è³ªè¨­å®šï¼Œå¯æ‰¹é‡ä¸‹è¼‰ZIPæª”æ¡ˆ</p>
                        </div>

                        <div class="feature-card" onclick="showTool('grid-tool')">
                            <div class="feature-icon">ğŸ”²</div>
                            <h3 class="feature-title">æ–¹æ¡†é™£åˆ—å·¥å…·</h3>
                            <p class="feature-desc">ç•«å‡ºæ¨¡æ¿æ–¹æ¡†ï¼Œåœ¨åŸåœ–ä¸Šè¤‡è£½é™£åˆ—ä¸¦æ“·å–æ¡†å…§åœ–ç‰‡ï¼Œé©åˆæ‰¹é‡è™•ç†ç›¸ä¼¼å€åŸŸ</p>
                        </div>

                        <div class="feature-card" onclick="showTool('animation')">
                            <div class="feature-icon">ğŸ­</div>
                            <h3 class="feature-title">å‹•ç•«æ©Ÿä»‹ç´¹</h3>
                            <p class="feature-desc">æ·±å…¥äº†è§£å‹•ç•«æ©ŸåŸç†ã€æ­·å²ç™¼å±•èˆ‡æ‡‰ç”¨å ´æ™¯ï¼Œç‚ºå‰µä½œå‹•ç•«æä¾›ç†è«–åŸºç¤</p>
                        </div>

                        <div class="feature-card" onclick="showTool('tutorial')">
                            <div class="feature-icon">ğŸ“š</div>
                            <h3 class="feature-title">äº’å‹•å¼æ•™å­¸</h3>
                            <p class="feature-desc">å®Œæ•´çš„å‹•ç•«æ©Ÿå­¸ç¿’èª²ç¨‹ï¼Œå¾åŸºç¤æ¦‚å¿µåˆ°å¯¦ä½œç·´ç¿’ï¼Œäº’å‹•å¼å­¸ç¿’é«”é©—</p>
                        </div>
                    </div>

                    <div class="stats-section">
                        <h3 style="margin-bottom: 30px; font-size: 1.8em; text-align: center;">ğŸš€ å·¥å…·ç‰¹è‰²</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">8+</div>
                                <div class="stat-label">å°ˆæ¥­å·¥å…·</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">100%</div>
                                <div class="stat-label">å…è²»ä½¿ç”¨</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">0</div>
                                <div class="stat-label">éœ€è¦è¨»å†Š</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">âˆ</div>
                                <div class="stat-label">ä½¿ç”¨æ¬¡æ•¸</div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 60px; padding: 40px; background: rgba(255, 255, 255, 0.1); border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.2);">
                        <h3 style="margin-bottom: 20px; font-size: 1.8em;">ğŸš€ å¿«é€Ÿé–‹å§‹</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 25px;">
                            <div style="padding: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 15px;">
                                <h4 style="margin-bottom: 10px;">ğŸ“± æ–°æ‰‹æ¨è–¦</h4>
                                <p>å¾ã€ŒåŸºç¤ä¿®åœ–å·¥å…·ã€é–‹å§‹ï¼Œç°¡å–®æ˜“ä¸Šæ‰‹</p>
                            </div>
                            <div style="padding: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 15px;">
                                <h4 style="margin-bottom: 10px;">ğŸ¯ å°ˆæ¥­ç”¨æˆ¶</h4>
                                <p>ä½¿ç”¨ã€Œé€²éšä¿®åœ–å·¥å…·ã€ç²å¾—æ›´å¤šåŠŸèƒ½</p>
                            </div>
                            <div style="padding: 20px; background: rgba(255, 255, 255, 0.1); border-radius: 15px;">
                                <h4 style="margin-bottom: 10px;">ğŸ¬ å½±ç‰‡è™•ç†</h4>
                                <p>ã€Œå½±ç‰‡å¿«ç…§å·¥å…·ã€è¼•é¬†æå–å½±ç‰‡ç•«é¢</p>
                            </div>
                        </div>
                        <p style="margin-top: 25px; opacity: 0.9; text-align: center;">é»æ“Šä¸Šæ–¹æŒ‰éˆ•æˆ–åŠŸèƒ½å¡ç‰‡å³å¯é–‹å§‹ä½¿ç”¨å°æ‡‰å·¥å…·</p>
                    </div>
                </div>
            </div>

            <!-- å‹•ç•«æ©Ÿä»‹ç´¹é é¢ -->
            <div id="animation" class="tool-page hidden">
                <div class="animation-intro">
                    <div class="intro-header">
                        <h1>ğŸ­ å‹•ç•«æ©Ÿä»‹ç´¹</h1>
                        <p>å°ˆæ¥­çš„åœ–ç‰‡å‹•ç•«è£½ä½œå·¥å…·ï¼Œè®“æ‚¨çš„åœ–ç‰‡å‹•èµ·ä¾†ï¼</p>
                    </div>

                    <div class="intro-section">
                        <h2><span>ğŸ¤”</span> ä»€éº¼æ˜¯å‹•ç•«æ©Ÿï¼Ÿ</h2>
                        <p style="font-size: 1.1em; line-height: 1.8; opacity: 0.95;">
                            å‹•ç•«æ©Ÿæ˜¯ä¸€ç¨®å°‡å¤šå¼µéœæ…‹åœ–ç‰‡çµ„åˆæˆé€£çºŒå‹•ç•«çš„å‰µä½œå·¥å…·ã€‚é€šéå¿«é€Ÿæ’­æ”¾ä¸€ç³»åˆ—ç›¸é—œåœ–ç‰‡ï¼Œå‰µé€ å‡ºæµæš¢çš„å‹•æ…‹æ•ˆæœï¼Œ
                            å°±åƒå‚³çµ±çš„ç¿»é å‹•ç•«æ›¸ä¸€æ¨£ã€‚é€™ç¨®æŠ€è¡“å»£æ³›æ‡‰ç”¨æ–¼å‹•ç•«è£½ä½œã€æ•™å­¸æ¼”ç¤ºã€è—è¡“å‰µä½œç­‰é ˜åŸŸã€‚
                        </p>
                    </div>

                    <div class="intro-section">
                        <h2><span>âš™ï¸</span> å·¥ä½œåŸç†</h2>
                        <div class="work-principles">
                            <div class="principle-item">
                                <h3 style="color: #a8e6cf;">ğŸ“¸ åœ–ç‰‡åºåˆ—</h3>
                                <p style="opacity: 0.9;">ä¸Šå‚³ä¸€ç³»åˆ—ç›¸é—œçš„éœæ…‹åœ–ç‰‡ï¼Œæ¯å¼µåœ–ç‰‡ä»£è¡¨å‹•ç•«ä¸­çš„ä¸€å€‹å¹€</p>
                            </div>
                            <div class="principle-item">
                                <h3 style="color: #88d8c0;">â±ï¸ æ™‚é–“æ§åˆ¶</h3>
                                <p style="opacity: 0.9;">è¨­å®šæ¯å¼µåœ–ç‰‡çš„é¡¯ç¤ºæ™‚é–“ï¼Œæ§åˆ¶å‹•ç•«çš„æ’­æ”¾é€Ÿåº¦</p>
                            </div>
                            <div class="principle-item">
                                <h3 style="color: #7fcdcd;">ğŸ”„ é€£çºŒæ’­æ”¾</h3>
                                <p style="opacity: 0.9;">æŒ‰é †åºå¿«é€Ÿåˆ‡æ›åœ–ç‰‡ï¼Œå½¢æˆæµæš¢çš„å‹•ç•«æ•ˆæœ</p>
                            </div>
                        </div>
                    </div>

                    <div class="intro-section">
                        <h2><span>ğŸ¯</span> æ‡‰ç”¨å ´æ™¯</h2>
                        <div class="applications">
                            <div class="application-item">
                                <div class="icon">ğŸ¨</div>
                                <h4>è—è¡“å‰µä½œ</h4>
                                <p>æ‰‹ç¹ªå‹•ç•«ã€æ¦‚å¿µåœ–å±•ç¤º</p>
                            </div>
                            <div class="application-item">
                                <div class="icon">ğŸ“š</div>
                                <h4>æ•™å­¸æ¼”ç¤º</h4>
                                <p>æ­¥é©Ÿèªªæ˜ã€éç¨‹å±•ç¤º</p>
                            </div>
                            <div class="application-item">
                                <div class="icon">ğŸ“±</div>
                                <h4>ç¤¾ç¾¤åª’é«”</h4>
                                <p>GIFå‹•åœ–ã€çŸ­ç‰‡è£½ä½œ</p>
                            </div>
                            <div class="application-item">
                                <div class="icon">ğŸ®</div>
                                <h4>éŠæˆ²é–‹ç™¼</h4>
                                <p>è§’è‰²å‹•ç•«ã€UIå‹•æ•ˆ</p>
                            </div>
                            <div class="application-item">
                                <div class="icon">ğŸ’¼</div>
                                <h4>å•†æ¥­å±•ç¤º</h4>
                                <p>ç”¢å“æ¼”ç¤ºã€å»£å‘Šå‹•ç•«</p>
                            </div>
                        </div>
                    </div>

                    <div class="action-section">
                        <div class="action-card">
                            <h3>ğŸ¬ é«”é©—å‹•ç•«æ©ŸåŠŸèƒ½</h3>
                            <p>
                                åœ¨ä¿®åœ–å·¥å…·ä¸­ï¼Œæˆ‘å€‘æä¾›äº†ã€Œå‹•ç•«è»Š6å¼µç‰ˆã€åŠŸèƒ½ï¼Œ
                                å¯ä»¥è‡ªå‹•å°‡å¤šå¼µåœ–ç‰‡é€²è¡Œçµ„åˆè™•ç†ï¼Œå‰µé€ æœ‰è¶£çš„å‹•ç•«æ•ˆæœï¼
                            </p>
                            <button class="action-btn" onclick="showTool('crop')">
                                ğŸ¯ å‰å¾€ä¿®åœ–å·¥å…·é«”é©—
                            </button>
                        </div>
                        
                        <button class="back-btn" onclick="showTool('home')">
                            ğŸ  è¿”å›é¦–é 
                        </button>
                    </div>
                </div>
            </div>

            <!-- å·¥å…·é é¢ -->
            <div id="merger" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥æ‹¼æ¥å·¥å…·...</div>
                </div>
            </div>

            <div id="crop" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥åŸºç¤ä¿®åœ–å·¥å…·...</div>
                </div>
            </div>

            <div id="advanced-crop" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥é€²éšä¿®åœ–å·¥å…·...</div>
                </div>
            </div>

            <div id="video" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥å½±ç‰‡å¿«ç…§å·¥å…·...</div>
                </div>
            </div>

            <div id="grid-tool" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥æ–¹æ¡†é™£åˆ—å·¥å…·...</div>
                </div>
            </div>

            <div id="tutorial" class="tool-page hidden">
                <div class="loading">
                    <div class="spinner"></div>
                    <div>æ­£åœ¨è¼‰å…¥äº’å‹•æ•™å­¸èª²ç¨‹...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¼‚æµ®å“ç‰Œæ¨™ç±¤ -->
    <a href="#" class="floating-brand" id="floatingBrand" onclick="showBrandInfo(event)" title="é»æ“Šäº†è§£æ›´å¤š">
        <span class="floating-brand-icon">ğŸ“</span>
        <span>ä½•è€å¸«æ•™å­¸ç¶²</span>
    </a>

    <script>
        // å…¨åŸŸè®Šæ•¸
        let currentTool = 'home';
        let isNavCollapsed = false;
        const toolsLoaded = {
            merger: false,
            crop: false,
            'advanced-crop': false,
            video: false,
            'grid-tool': false,
            tutorial: false
        };

        const toolFiles = {
            merger: 'merger_Page.html',
            crop: 'crop_page.html',
            'advanced-crop': 'crop_tool_page.html',
            video: 'video_cut_page.html',
            'grid-tool': 'grid_cutter_page.html',
            animation: 'animation_page.html',
            tutorial: 'https://sites.google.com/view/zhengxueflipbook/'
        };

        // å°èˆªæ”¶èµ·/å±•é–‹åŠŸèƒ½
        function autoCollapseNavigation() {
            if (currentTool !== 'home' && !isNavCollapsed) {
                setTimeout(() => {
                    if (currentTool !== 'home') {
                        toggleNavigation();
                    }
                }, 2000); // 2ç§’å¾Œè‡ªå‹•æ”¶èµ·
            }
        }

        // ç¢ºä¿å‡½æ•¸åœ¨å…¨åŸŸç¯„åœå…§å¯ç”¨
        window.showTool = function(toolName) {
            console.log('ğŸ¯ åˆ‡æ›å·¥å…·:', toolName);
            
            currentTool = toolName;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.nav-btn').forEach(function(btn) {
                btn.classList.remove('active');
            });
            
            // å°‹æ‰¾å°æ‡‰çš„æŒ‰éˆ•ä¸¦è¨­ç‚º active
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => {
                if (btn.classList.contains(toolName) || 
                    (toolName === 'advanced-crop' && btn.classList.contains('advanced-crop')) ||
                    (toolName === 'grid-tool' && btn.classList.contains('grid-tool'))) {
                    btn.classList.add('active');
                }
            });

            // éš±è—æ‰€æœ‰é é¢
            document.querySelectorAll('.tool-page').forEach(function(page) {
                page.classList.add('hidden');
            });

            // é¡¯ç¤ºé¸ä¸­çš„é é¢
            const targetPage = document.getElementById(toolName);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }

            // è¼‰å…¥å¤–éƒ¨å·¥å…·æˆ–è·³è½‰å¤–éƒ¨é€£çµ
            if (toolFiles[toolName]) {
                if (toolFiles[toolName].startsWith('http')) {
                    // å¤–éƒ¨é€£çµç›´æ¥è·³è½‰
                    console.log('ğŸŒ é–‹å•Ÿå¤–éƒ¨é€£çµ:', toolFiles[toolName]);
                    window.open(toolFiles[toolName], '_blank');
                    // è·³è½‰å¾Œè¿”å›é¦–é 
                    setTimeout(() => {
                        showTool('home');
                    }, 500);
                    return;
                } else if (!toolsLoaded[toolName]) {
                    // å…§éƒ¨æª”æ¡ˆè¼‰å…¥
                    console.log('ğŸ“‚ è¼‰å…¥å…§éƒ¨æª”æ¡ˆ:', toolFiles[toolName]);
                    loadTool(toolName);
                }
            }

            // æ›´æ–°é é¢æ¨™é¡Œ
            updatePageTitle(toolName);

            // å¦‚æœåˆ‡æ›åˆ°å·¥å…·é é¢ï¼Œå•Ÿå‹•è‡ªå‹•æ”¶èµ·
            if (toolName !== 'home' && toolName !== 'animation') {
                autoCollapseNavigation();
            }
        };

        // å°èˆªæ”¶èµ·/å±•é–‹åŠŸèƒ½
        window.toggleNavigation = function() {
            const header = document.getElementById('mainHeader');
            const toggle = document.getElementById('collapseToggle');
            
            isNavCollapsed = !isNavCollapsed;
            
            if (isNavCollapsed) {
                header.classList.add('collapsed');
                toggle.textContent = 'â–²';
                // å„²å­˜ç‹€æ…‹åˆ° localStorage
                localStorage.setItem('navCollapsed', 'true');
            } else {
                header.classList.remove('collapsed');
                toggle.textContent = 'â–¼';
                localStorage.setItem('navCollapsed', 'false');
            }
        };

        // å“ç‰Œæ¨™ç±¤é»æ“Šäº‹ä»¶
        window.showBrandInfo = function(event) {
            event.preventDefault();
            
            // å‰µå»ºå½ˆå‡ºè¨Šæ¯
            const message = `ğŸ“ ä½•è€å¸«æ•™å­¸ç¶²
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å°ˆæ¥­çš„ç·šä¸Šæ•™å­¸å¹³å°
æä¾›å¤šå…ƒåŒ–çš„å­¸ç¿’è³‡æº

ğŸ“š ç‰¹è‰²æœå‹™ï¼š
â€¢ åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·
â€¢ ç¨‹å¼è¨­è¨ˆæ•™å­¸
â€¢ æ•¸ä½æŠ€èƒ½åŸ¹è¨“
â€¢ äº’å‹•å¼å­¸ç¿’é«”é©—

âœ¨ æ„Ÿè¬æ‚¨çš„ä½¿ç”¨ï¼`;
            
            // ä½¿ç”¨åŸç”Ÿ alert æˆ–å‰µå»ºè‡ªå®šç¾©å½ˆçª—
            if (confirm(message + '\n\næ˜¯å¦è¦äº†è§£æ›´å¤šæ•™å­¸è³‡æºï¼Ÿ')) {
                // è·³è½‰åˆ°ä½•è€å¸«æ•™å­¸ç¶²
                window.open('https://sites.google.com/view/zhengxueflipbook/', '_blank');
            }
        };

        function updatePageTitle(toolName) {
            const titles = {
                'home': 'å¤šåŠŸèƒ½åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·',
                'merger': 'åœ–ç‰‡æ‹¼æ¥å·¥å…· - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'crop': 'åŸºç¤ä¿®åœ–å·¥å…· - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'advanced-crop': 'é€²éšä¿®åœ–å·¥å…· - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'video': 'å½±ç‰‡å¿«ç…§å·¥å…· - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'grid-tool': 'æ–¹æ¡†é™£åˆ—å·¥å…· - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'animation': 'å‹•ç•«æ©Ÿä»‹ç´¹ - å¤šåŠŸèƒ½è™•ç†å¹³å°',
                'tutorial': 'äº’å‹•æ•™å­¸èª²ç¨‹ - å¤šåŠŸèƒ½è™•ç†å¹³å°'
            };
            
            document.title = titles[toolName] || 'å¤šåŠŸèƒ½åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·';
        }

        function loadTool(toolName) {
            const targetPage = document.getElementById(toolName);
            const fileName = toolFiles[toolName];
            
            if (!fileName) {
                targetPage.innerHTML = `
                    <div style="text-align: center; color: white; padding: 80px 20px;">
                        <h3 style="font-size: 2em; margin-bottom: 20px;">âš ï¸ å·¥å…·è¼‰å…¥å¤±æ•—</h3>
                        <p style="font-size: 1.2em; margin-bottom: 30px;">ç„¡æ³•è¼‰å…¥ ${toolName}</p>
                        <button onclick="location.reload()" style="
                            padding: 15px 30px; 
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                            color: white; 
                            border: none; 
                            border-radius: 25px; 
                            cursor: pointer; 
                            font-size: 1.1em;
                            font-weight: 600;
                        ">ğŸ”„ é‡æ–°è¼‰å…¥</button>
                    </div>
                `;
                return;
            }

            // å¦‚æœæ˜¯å¤–éƒ¨é€£çµï¼ˆäº’å‹•æ•™å­¸ï¼‰ï¼Œç›´æ¥è·³è½‰
            if (fileName.startsWith('http')) {
                window.open(fileName, '_blank');
                // è·³è½‰å¾Œè¿”å›é¦–é 
                setTimeout(() => {
                    showTool('home');
                }, 500);
                return;
            }

            const iframeContainer = document.createElement('div');
            iframeContainer.className = 'iframe-container';
            
            const iframe = document.createElement('iframe');
            iframe.src = fileName;
            iframe.style.cssText = 'width: 100%; height: 100%; border: none;';
            
            // æ·»åŠ è¼‰å…¥ç‹€æ…‹
            iframe.onload = function() {
                toolsLoaded[toolName] = true;
                // å¯ä»¥åœ¨é€™è£¡æ·»åŠ è¼‰å…¥å®Œæˆçš„æç¤º
                console.log(`âœ… ${toolName} å·¥å…·è¼‰å…¥å®Œæˆ`);
            };
            
            iframe.onerror = function() {
                targetPage.innerHTML = `
                    <div style="text-align: center; color: white; padding: 80px 20px; max-width: 600px; margin: 0 auto;">
                        <h3 style="font-size: 2.2em; margin-bottom: 25px;">âš ï¸ å·¥å…·è¼‰å…¥å¤±æ•—</h3>
                        <p style="font-size: 1.2em; margin-bottom: 20px; line-height: 1.6;">ç„¡æ³•è¼‰å…¥ <strong>${fileName}</strong></p>
                        <p style="opacity: 0.8; margin-bottom: 35px; line-height: 1.5;">è«‹ç¢ºèªæ–‡ä»¶æ˜¯å¦å­˜åœ¨æ–¼åŒä¸€è³‡æ–™å¤¾ä¸­ï¼Œæˆ–æª¢æŸ¥ç¶²è·¯é€£ç·šç‹€æ…‹</p>
                        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                            <button onclick="loadTool('${toolName}')" style="
                                padding: 15px 30px; 
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                color: white; 
                                border: none; 
                                border-radius: 25px; 
                                cursor: pointer; 
                                font-size: 1.1em;
                                font-weight: 600;
                                transition: all 0.3s ease;
                            ">ğŸ”„ é‡æ–°è¼‰å…¥</button>
                            <button onclick="showTool('home')" style="
                                padding: 15px 30px; 
                                background: rgba(255, 255, 255, 0.2); 
                                color: white; 
                                border: 2px solid rgba(255, 255, 255, 0.3); 
                                border-radius: 25px; 
                                cursor: pointer; 
                                font-size: 1.1em;
                                font-weight: 600;
                                transition: all 0.3s ease;
                            ">ğŸ  è¿”å›é¦–é </button>
                        </div>
                    </div>
                `;
            };
            
            iframeContainer.appendChild(iframe);
            targetPage.innerHTML = '';
            targetPage.appendChild(iframeContainer);
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æç¤º
            console.log('ğŸ¨ å¤šåŠŸèƒ½åœ–ç‰‡èˆ‡å½±ç‰‡è™•ç†å·¥å…·å·²è¼‰å…¥å®Œæˆ');
            console.log('ğŸ“¦ å¯ç”¨å·¥å…·ï¼š');
            console.log('  ğŸ“¸ åœ–ç‰‡æ‹¼æ¥å·¥å…· â†’ merger_Page.html');
            console.log('  âœ‚ï¸ åŸºç¤ä¿®åœ–å·¥å…· â†’ crop_page.html');
            console.log('  ğŸ”§ é€²éšä¿®åœ–å·¥å…· â†’ crop_tool_page.html');
            console.log('  ğŸ¬ å½±ç‰‡å¿«ç…§å·¥å…· â†’ video_cut_page.html');
            console.log('  ğŸ”² æ–¹æ¡†é™£åˆ—å·¥å…· â†’ grid_cutter_page.html');
            console.log('  ğŸ­ å‹•ç•«æ©Ÿä»‹ç´¹ â†’ animation_page.html');
            console.log('  ğŸ“š äº’å‹•æ•™å­¸èª²ç¨‹ â†’ https://sites.google.com/view/zhengxueflipbook/');

            // æ¢å¾©å°èˆªæ”¶èµ·ç‹€æ…‹
            const savedNavState = localStorage.getItem('navCollapsed');
            if (savedNavState === 'true') {
                toggleNavigation();
            }

            // æª¢æŸ¥ URL åƒæ•¸ä¾†æ±ºå®šè¦é¡¯ç¤ºå“ªå€‹å·¥å…·
            const urlParams = new URLSearchParams(window.location.search);
            const tool = urlParams.get('tool');
            if (tool && (toolFiles[tool] || tool === 'home' || tool === 'animation')) {
                showTool(tool);
            }

            // æ¸¬è©¦æŒ‰éˆ•åŠŸèƒ½
            console.log('ğŸ”§ æ¸¬è©¦æŒ‰éˆ•åŠŸèƒ½...');
            console.log('showTool å‡½æ•¸:', typeof window.showTool);
            console.log('toggleNavigation å‡½æ•¸:', typeof window.toggleNavigation);

            // æ·»åŠ éµç›¤å¿«æ·éµ
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + æ•¸å­—éµå¿«é€Ÿåˆ‡æ›å·¥å…·
                if ((e.ctrlKey || e.metaKey) && e.key >= '1' && e.key <= '8') {
                    e.preventDefault();
                    const toolIndex = parseInt(e.key) - 1;
                    const tools = ['home', 'merger', 'crop', 'advanced-crop', 'video', 'grid-tool', 'animation', 'tutorial'];
                    if (tools[toolIndex]) {
                        showTool(tools[toolIndex]);
                    }
                }
                
                // ESC éµè¿”å›é¦–é 
                if (e.key === 'Escape') {
                    showTool('home');
                }

                // Ctrl/Cmd + H åˆ‡æ›å°èˆªæ”¶èµ·ç‹€æ…‹
                if ((e.ctrlKey || e.metaKey) && e.key === 'h') {
                    e.preventDefault();
                    toggleNavigation();
                }
            });

            // æ·»åŠ æ€§èƒ½ç›£æ§
            if (window.performance && window.performance.mark) {
                window.performance.mark('app-ready');
            }

            // æª¢æŸ¥ç€è¦½å™¨æ”¯æ´åº¦
            if (!window.FileReader) {
                console.warn('âš ï¸ ç€è¦½å™¨ä¸æ”¯æ´æª”æ¡ˆè®€å–åŠŸèƒ½ï¼Œéƒ¨åˆ†å·¥å…·å¯èƒ½ç„¡æ³•æ­£å¸¸é‹ä½œ');
            }

            if (!HTMLCanvasElement.prototype.getContext) {
                console.warn('âš ï¸ ç€è¦½å™¨ä¸æ”¯æ´ Canvasï¼Œåœ–ç‰‡è™•ç†åŠŸèƒ½å¯èƒ½å—é™');
            }
        });

        // éŒ¯èª¤è™•ç†
        window.addEventListener('error', function(e) {
            console.error('é é¢ç™¼ç”ŸéŒ¯èª¤:', e.error);
            
            // å¦‚æœæ˜¯å·¥å…·è¼‰å…¥éŒ¯èª¤ï¼Œæä¾›é™ç´šæ–¹æ¡ˆ
            if (e.filename && Object.values(toolFiles).some(file => e.filename.includes(file))) {
                console.log('ğŸ”„ å˜—è©¦é‡æ–°è¼‰å…¥å·¥å…·...');
            }
        });

        // æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯å’Œä½¿ç”¨çµ±è¨ˆ
        const version = '2.0.0';
        const buildDate = '2025-01-30';
        
        console.log(`ğŸ“Š ç‰ˆæœ¬è³‡è¨Š: v${version} (${buildDate})`);
        console.log('ğŸš€ äº«å—ä½¿ç”¨æˆ‘å€‘çš„å·¥å…·ï¼å¦‚æœ‰å•é¡Œè«‹è¯ç¹«æŠ€è¡“æ”¯æ´ã€‚');

        // æ€§èƒ½å„ªåŒ–ï¼šé è¼‰å…¥é‡è¦å·¥å…·
        window.addEventListener('load', function() {
            // å»¶é²é è¼‰å…¥å¸¸ç”¨å·¥å…·ï¼Œæå‡ä½¿ç”¨é«”é©—
            setTimeout(() => {
                const commonTools = ['crop', 'video'];
                commonTools.forEach(tool => {
                    if (!toolsLoaded[tool] && toolFiles[tool] && !toolFiles[tool].startsWith('http')) {
                        const link = document.createElement('link');
                        link.rel = 'prefetch';
                        link.href = toolFiles[tool];
                        document.head.appendChild(link);
                    }
                });
            }, 2000);
        });

        // æ·»åŠ ä½¿ç”¨è€…é«”é©—å¢å¼·
        let lastToolSwitch = Date.now();
        
        function enhancedShowTool(toolName) {
            const now = Date.now();
            if (now - lastToolSwitch < 300) {
                // é˜²æ­¢å¿«é€Ÿé»æ“Š
                return;
            }
            lastToolSwitch = now;
            
            showTool(toolName);
            
            // æ›´æ–° URL ä½†ä¸åˆ·æ–°é é¢
            if (window.history && window.history.pushState) {
                const newUrl = toolName === 'home' ? 
                    window.location.pathname : 
                    `${window.location.pathname}?tool=${toolName}`;
                window.history.pushState({tool: toolName}, '', newUrl);
            }
        }

        // è™•ç†ç€è¦½å™¨å¾Œé€€/å‰é€²
        window.addEventListener('popstate', function(e) {
            if (e.state && e.state.tool) {
                showTool(e.state.tool);
            } else {
                showTool('home');
            }
        });

        // æ¼‚æµ®æ¨™ç±¤çš„é¡å¤–äº’å‹•æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const floatingBrand = document.getElementById('floatingBrand');
            
            // æ»‘é¼ é€²å…¥æ™‚çš„ç‰¹æ•ˆ
            floatingBrand.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px) scale(1.1) rotate(2deg)';
            });
            
            floatingBrand.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0px) scale(1) rotate(0deg)';
            });
            
            // æ¯éš”ä¸€æ®µæ™‚é–“é–ƒçˆæé†’
            setInterval(() => {
                floatingBrand.style.animation = 'none';
                setTimeout(() => {
                    floatingBrand.style.animation = 'floatPulse 3s ease-in-out infinite';
                }, 100);
            }, 30000); // æ¯30ç§’é‡æ–°é–‹å§‹å‹•ç•«
        });

        // ç§»é™¤ä¹‹å‰çš„ç¶å®š
        // window.showTool = enhancedShowTool;
        // window.toggleNavigation = toggleNavigation;
    </script>
</body>
</html>